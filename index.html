<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Downloads</title>
    <link rel="icon" href="https://raw.githubusercontent.com/elulolaito/elulolaito.github.io/main/logo_white.svg" type="image/svg">
    <style>
        body {
            background-color: #000000; /* Solid black background */
            color: #ebdbb2; /* Light foreground color */
            font-family: 'Lexend', sans-serif;
            font-size: 20px;
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: transparent;
        }
        th, td {
            padding: 10px;
            border-bottom: 3px solid #ebdbb2;
        }
        th {
            background-color: transparent;
        }
        a {
            color: #ebdbb2; /* Light foreground color for links */
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1>Downloads</h1>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Author</th>
                <th>Genre</th>
                <th>Length</th>
                <th>Instrument</th>
                <th>Major</th>
            </tr>
        </thead>
        <tbody id="music-table-body">
            <!-- Music data will be dynamically added here -->
        </tbody>
    </table>

    <script>
        // Function to fetch CSV data
        function fetchCSV(url, callback) {
            fetch(url)
                .then(response => response.text())
                .then(data => {
                    callback(data);
                });
        }

        // Function to parse CSV data and populate the table
        function parseCSV(data) {
            // Split CSV rows
            var rows = data.split('\n');

            // Remove header row
            rows.shift();

            // Iterate through each row
            rows.forEach(row => {
                // Split row into columns
                var columns = row.split(',');

                // Extract data
                var name = columns[0];
                var author = columns[1];
                var genre = columns[2];
                var length = columns[3];
                var instrument = columns[4];
                var major = columns[5];

                // Create table row
                var tr = document.createElement('tr');

                // Create table data cells
                var tdName = document.createElement('td');
                var tdAuthor = document.createElement('td');
                var tdGenre = document.createElement('td');
                var tdLength = document.createElement('td');
                var tdInstrument = document.createElement('td');
                var tdMajor = document.createElement('td');

                // Create download link for the name
                var downloadLink = document.createElement('a');
                downloadLink.href = columns[6]; // Assuming the 7th column contains the download link
                downloadLink.textContent = name;
                downloadLink.download = '';

                // Append download link to name cell
                tdName.appendChild(downloadLink);

                // Populate other cells
                tdAuthor.textContent = author;
                tdGenre.textContent = genre;
                tdLength.textContent = length;
                tdInstrument.textContent = instrument;
                tdMajor.textContent = major;

                // Append cells to row
                tr.appendChild(tdName);
                tr.appendChild(tdAuthor);
                tr.appendChild(tdGenre);
                tr.appendChild(tdLength);
                tr.appendChild(tdInstrument);
                tr.appendChild(tdMajor);

                // Append row to table body
                document.getElementById('music-table-body').appendChild(tr);
            });
        }

        // Fetch and parse CSV data
        fetchCSV('https://raw.githubusercontent.com/elulolaito/elulolaito.github.io/main/music_data.csv', parseCSV);
    </script>
</body>
</html>
